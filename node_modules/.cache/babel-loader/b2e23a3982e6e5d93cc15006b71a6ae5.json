{"ast":null,"code":"import { createAction, handleActions } from 'redux-actions';\nimport { takeLatest } from 'redux-saga/effects';\nimport createRequestSaga, { createRequestActionTypes } from '../lib/createRequestSaga';\nimport * as chatHallAPI from '../lib/api/chatHall';\nconst [GET_GUEST_NUMBER, GET_GUEST_NUMBER_SUCCESS, GET_GUEST_NUMBER_FAILURE] = createRequestActionTypes('chatHall/GET_GUEST_NUMBER');\nconst SET_CHAT_HALL = 'chatHall/SET_CHAT_HALL';\nconst SEND_MESSAGE = 'chatHall/SEND_MESSAGE';\nconst RECEIVE_MESSAGE = 'chatHall/RECEIVE_MESSAGE';\nexport const getGuestNumber = createAction(GET_GUEST_NUMBER);\nexport const setChatHall = createAction(SET_CHAT_HALL);\nexport const sendMessage = createAction(SEND_MESSAGE);\nexport const receiveMessage = createAction(RECEIVE_MESSAGE);\nconst getGuestNumberSaga = createRequestSaga(GET_GUEST_NUMBER, chatHallAPI.guestNumber);\nexport function* chatHallSaga() {\n  yield takeLatest(GET_GUEST_NUMBER, getGuestNumberSaga);\n}\nconst initialState = {\n  user: null,\n  userList: [],\n  msgList: [],\n  error: null\n};\nexport default handleActions({\n  [SET_CHAT_HALL]: (state, _ref) => {\n    let {\n      payload: user\n    } = _ref;\n    return { ...state,\n      user: {\n        username: user.username,\n        nickname: user.nickname,\n        profileImage: user.profileImage\n      }\n    };\n  },\n  [GET_GUEST_NUMBER_SUCCESS]: (state, _ref2) => {\n    let {\n      payload: guestInfo\n    } = _ref2;\n    return { ...state,\n      user: {\n        username: guestInfo,\n        nickname: guestInfo,\n        profileImage: null\n      }\n    };\n  },\n  [GET_GUEST_NUMBER_FAILURE]: (state, _ref3) => {\n    let {\n      payload: error\n    } = _ref3;\n    return { ...state,\n      user: null,\n      checkError: error\n    };\n  },\n  [SEND_MESSAGE]: (state, _ref4) => {\n    let {\n      payload: msg\n    } = _ref4;\n    return { ...state,\n      msgList: [...state.msgList, { ...msg\n      }]\n    };\n  },\n  [RECEIVE_MESSAGE]: (state, _ref5) => {\n    let {\n      payload: msg\n    } = _ref5;\n    return { ...state,\n      msgList: [...state.msgList, { ...msg\n      }]\n    };\n  }\n}, initialState);","map":{"version":3,"sources":["C:/nani/connect/connect-frontend/src/modules/chatHall.js"],"names":["createAction","handleActions","takeLatest","createRequestSaga","createRequestActionTypes","chatHallAPI","GET_GUEST_NUMBER","GET_GUEST_NUMBER_SUCCESS","GET_GUEST_NUMBER_FAILURE","SET_CHAT_HALL","SEND_MESSAGE","RECEIVE_MESSAGE","getGuestNumber","setChatHall","sendMessage","receiveMessage","getGuestNumberSaga","guestNumber","chatHallSaga","initialState","user","userList","msgList","error","state","payload","username","nickname","profileImage","guestInfo","checkError","msg"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,aAAvB,QAA4C,eAA5C;AACA,SAASC,UAAT,QAA2B,oBAA3B;AACA,OAAOC,iBAAP,IACEC,wBADF,QAEO,0BAFP;AAGA,OAAO,KAAKC,WAAZ,MAA6B,qBAA7B;AAEA,MAAM,CAACC,gBAAD,EAAmBC,wBAAnB,EAA6CC,wBAA7C,IACJJ,wBAAwB,CAAC,2BAAD,CAD1B;AAGA,MAAMK,aAAa,GAAG,wBAAtB;AACA,MAAMC,YAAY,GAAG,uBAArB;AACA,MAAMC,eAAe,GAAG,0BAAxB;AAEA,OAAO,MAAMC,cAAc,GAAGZ,YAAY,CAACM,gBAAD,CAAnC;AACP,OAAO,MAAMO,WAAW,GAAGb,YAAY,CAACS,aAAD,CAAhC;AACP,OAAO,MAAMK,WAAW,GAAGd,YAAY,CAACU,YAAD,CAAhC;AACP,OAAO,MAAMK,cAAc,GAAGf,YAAY,CAACW,eAAD,CAAnC;AAEP,MAAMK,kBAAkB,GAAGb,iBAAiB,CAC1CG,gBAD0C,EAE1CD,WAAW,CAACY,WAF8B,CAA5C;AAKA,OAAO,UAAUC,YAAV,GAAyB;AAC9B,QAAMhB,UAAU,CAACI,gBAAD,EAAmBU,kBAAnB,CAAhB;AACD;AACD,MAAMG,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE,IADa;AAEnBC,EAAAA,QAAQ,EAAE,EAFS;AAGnBC,EAAAA,OAAO,EAAE,EAHU;AAInBC,EAAAA,KAAK,EAAE;AAJY,CAArB;AAMA,eAAetB,aAAa,CAC1B;AACE,GAACQ,aAAD,GAAiB,CAACe,KAAD;AAAA,QAAQ;AAAEC,MAAAA,OAAO,EAAEL;AAAX,KAAR;AAAA,WAA+B,EAC9C,GAAGI,KAD2C;AAE9CJ,MAAAA,IAAI,EAAE;AACJM,QAAAA,QAAQ,EAAEN,IAAI,CAACM,QADX;AAEJC,QAAAA,QAAQ,EAAEP,IAAI,CAACO,QAFX;AAGJC,QAAAA,YAAY,EAAER,IAAI,CAACQ;AAHf;AAFwC,KAA/B;AAAA,GADnB;AASE,GAACrB,wBAAD,GAA4B,CAACiB,KAAD;AAAA,QAAQ;AAAEC,MAAAA,OAAO,EAAEI;AAAX,KAAR;AAAA,WAAoC,EAC9D,GAAGL,KAD2D;AAE9DJ,MAAAA,IAAI,EAAE;AACJM,QAAAA,QAAQ,EAAEG,SADN;AAEJF,QAAAA,QAAQ,EAAEE,SAFN;AAGJD,QAAAA,YAAY,EAAE;AAHV;AAFwD,KAApC;AAAA,GAT9B;AAiBE,GAACpB,wBAAD,GAA4B,CAACgB,KAAD;AAAA,QAAQ;AAAEC,MAAAA,OAAO,EAAEF;AAAX,KAAR;AAAA,WAAgC,EAC1D,GAAGC,KADuD;AAE1DJ,MAAAA,IAAI,EAAE,IAFoD;AAG1DU,MAAAA,UAAU,EAAEP;AAH8C,KAAhC;AAAA,GAjB9B;AAsBE,GAACb,YAAD,GAAgB,CAACc,KAAD;AAAA,QAAQ;AAAEC,MAAAA,OAAO,EAAEM;AAAX,KAAR;AAAA,WAA8B,EAC5C,GAAGP,KADyC;AAE5CF,MAAAA,OAAO,EAAE,CAAC,GAAGE,KAAK,CAACF,OAAV,EAAmB,EAAE,GAAGS;AAAL,OAAnB;AAFmC,KAA9B;AAAA,GAtBlB;AA0BE,GAACpB,eAAD,GAAmB,CAACa,KAAD;AAAA,QAAQ;AAAEC,MAAAA,OAAO,EAAEM;AAAX,KAAR;AAAA,WAA8B,EAC/C,GAAGP,KAD4C;AAE/CF,MAAAA,OAAO,EAAE,CAAC,GAAGE,KAAK,CAACF,OAAV,EAAmB,EAAE,GAAGS;AAAL,OAAnB;AAFsC,KAA9B;AAAA;AA1BrB,CAD0B,EAgC1BZ,YAhC0B,CAA5B","sourcesContent":["import { createAction, handleActions } from 'redux-actions';\r\nimport { takeLatest } from 'redux-saga/effects';\r\nimport createRequestSaga, {\r\n  createRequestActionTypes,\r\n} from '../lib/createRequestSaga';\r\nimport * as chatHallAPI from '../lib/api/chatHall';\r\n\r\nconst [GET_GUEST_NUMBER, GET_GUEST_NUMBER_SUCCESS, GET_GUEST_NUMBER_FAILURE] =\r\n  createRequestActionTypes('chatHall/GET_GUEST_NUMBER');\r\n\r\nconst SET_CHAT_HALL = 'chatHall/SET_CHAT_HALL';\r\nconst SEND_MESSAGE = 'chatHall/SEND_MESSAGE';\r\nconst RECEIVE_MESSAGE = 'chatHall/RECEIVE_MESSAGE';\r\n\r\nexport const getGuestNumber = createAction(GET_GUEST_NUMBER);\r\nexport const setChatHall = createAction(SET_CHAT_HALL);\r\nexport const sendMessage = createAction(SEND_MESSAGE);\r\nexport const receiveMessage = createAction(RECEIVE_MESSAGE);\r\n\r\nconst getGuestNumberSaga = createRequestSaga(\r\n  GET_GUEST_NUMBER,\r\n  chatHallAPI.guestNumber,\r\n);\r\n\r\nexport function* chatHallSaga() {\r\n  yield takeLatest(GET_GUEST_NUMBER, getGuestNumberSaga);\r\n}\r\nconst initialState = {\r\n  user: null,\r\n  userList: [],\r\n  msgList: [],\r\n  error: null,\r\n};\r\nexport default handleActions(\r\n  {\r\n    [SET_CHAT_HALL]: (state, { payload: user }) => ({\r\n      ...state,\r\n      user: {\r\n        username: user.username,\r\n        nickname: user.nickname,\r\n        profileImage: user.profileImage,\r\n      },\r\n    }),\r\n    [GET_GUEST_NUMBER_SUCCESS]: (state, { payload: guestInfo }) => ({\r\n      ...state,\r\n      user: {\r\n        username: guestInfo,\r\n        nickname: guestInfo,\r\n        profileImage: null,\r\n      },\r\n    }),\r\n    [GET_GUEST_NUMBER_FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      user: null,\r\n      checkError: error,\r\n    }),\r\n    [SEND_MESSAGE]: (state, { payload: msg }) => ({\r\n      ...state,\r\n      msgList: [...state.msgList, { ...msg }],\r\n    }),\r\n    [RECEIVE_MESSAGE]: (state, { payload: msg }) => ({\r\n      ...state,\r\n      msgList: [...state.msgList, { ...msg }],\r\n    }),\r\n  },\r\n  initialState,\r\n);\r\n"]},"metadata":{},"sourceType":"module"}