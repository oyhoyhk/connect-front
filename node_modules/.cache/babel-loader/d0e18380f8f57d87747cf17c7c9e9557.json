{"ast":null,"code":"var _jsxFileName = \"C:\\\\nani\\\\connect\\\\connect-frontend\\\\src\\\\containers\\\\Friends\\\\FriendsListContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport FriendsList from '../../components/Friends/FriendsList';\nimport { debounce } from 'lodash';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { requestFriendsList } from '../../modules/friends';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FriendsListContainer = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    friendsList\n  } = useSelector(_ref => {\n    let {\n      friends: {\n        friendsList\n      }\n    } = _ref;\n    return {\n      friendsList\n    };\n  });\n  const [pagination, setPagination] = useState(0);\n  const MAX_PAGINATION = friendsList ? Math.ceil(friendsList.length / 10) : 0;\n  const scrollHandler = debounce(e => {\n    if (e.deltaY === 100 && pagination + 1 < MAX_PAGINATION) {\n      setPagination(pagination + 1);\n    } else if (e.deltaY === -100 && pagination > 0) {\n      setPagination(pagination - 1);\n    }\n  }, 300);\n  useEffect(() => {\n    const {\n      uid\n    } = JSON.parse(localStorage.user);\n    dispatch(requestFriendsList({\n      uid\n    }));\n  }, [dispatch]);\n  useEffect(() => {\n    window.addEventListener('wheel', scrollHandler);\n    return () => {\n      window.removeEventListener('wheel', scrollHandler);\n    };\n  }, [pagination, scrollHandler]);\n  return /*#__PURE__*/_jsxDEV(FriendsList, {\n    friendsList: friendsList.slice(pagination * 10, (pagination + 1) * 10),\n    pagination: pagination,\n    total: MAX_PAGINATION\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FriendsListContainer, \"x/MbGHud0J9nbh+kano34A5631I=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = FriendsListContainer;\nexport default FriendsListContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"FriendsListContainer\");","map":{"version":3,"sources":["C:/nani/connect/connect-frontend/src/containers/Friends/FriendsListContainer.js"],"names":["React","useEffect","useState","FriendsList","debounce","useDispatch","useSelector","requestFriendsList","FriendsListContainer","dispatch","friendsList","friends","pagination","setPagination","MAX_PAGINATION","Math","ceil","length","scrollHandler","e","deltaY","uid","JSON","parse","localStorage","user","window","addEventListener","removeEventListener","slice"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,WAAP,MAAwB,sCAAxB;AACA,SAASC,QAAT,QAAyB,QAAzB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,kBAAT,QAAmC,uBAAnC;;;AAEA,MAAMC,oBAAoB,GAAG,MAAM;AAAA;;AACjC,QAAMC,QAAQ,GAAGJ,WAAW,EAA5B;AACA,QAAM;AAAEK,IAAAA;AAAF,MAAkBJ,WAAW,CAAC;AAAA,QAAC;AAAEK,MAAAA,OAAO,EAAE;AAAED,QAAAA;AAAF;AAAX,KAAD;AAAA,WAAmC;AACrEA,MAAAA;AADqE,KAAnC;AAAA,GAAD,CAAnC;AAGA,QAAM,CAACE,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,CAAD,CAA5C;AACA,QAAMY,cAAc,GAAGJ,WAAW,GAAGK,IAAI,CAACC,IAAL,CAAUN,WAAW,CAACO,MAAZ,GAAqB,EAA/B,CAAH,GAAwC,CAA1E;AACA,QAAMC,aAAa,GAAGd,QAAQ,CAAEe,CAAD,IAAO;AACpC,QAAIA,CAAC,CAACC,MAAF,KAAa,GAAb,IAAoBR,UAAU,GAAG,CAAb,GAAiBE,cAAzC,EAAyD;AACvDD,MAAAA,aAAa,CAACD,UAAU,GAAG,CAAd,CAAb;AACD,KAFD,MAEO,IAAIO,CAAC,CAACC,MAAF,KAAa,CAAC,GAAd,IAAqBR,UAAU,GAAG,CAAtC,EAAyC;AAC9CC,MAAAA,aAAa,CAACD,UAAU,GAAG,CAAd,CAAb;AACD;AACF,GAN6B,EAM3B,GAN2B,CAA9B;AAOAX,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM;AAAEoB,MAAAA;AAAF,QAAUC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,IAAxB,CAAhB;AACAhB,IAAAA,QAAQ,CAACF,kBAAkB,CAAC;AAAEc,MAAAA;AAAF,KAAD,CAAnB,CAAR;AACD,GAHQ,EAGN,CAACZ,QAAD,CAHM,CAAT;AAIAR,EAAAA,SAAS,CAAC,MAAM;AACdyB,IAAAA,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiCT,aAAjC;AACA,WAAO,MAAM;AACXQ,MAAAA,MAAM,CAACE,mBAAP,CAA2B,OAA3B,EAAoCV,aAApC;AACD,KAFD;AAGD,GALQ,EAKN,CAACN,UAAD,EAAaM,aAAb,CALM,CAAT;AAOA,sBACE,QAAC,WAAD;AACE,IAAA,WAAW,EAAER,WAAW,CAACmB,KAAZ,CAAkBjB,UAAU,GAAG,EAA/B,EAAmC,CAACA,UAAU,GAAG,CAAd,IAAmB,EAAtD,CADf;AAEE,IAAA,UAAU,EAAEA,UAFd;AAGE,IAAA,KAAK,EAAEE;AAHT;AAAA;AAAA;AAAA;AAAA,UADF;AAOD,CAhCD;;GAAMN,oB;UACaH,W,EACOC,W;;;KAFpBE,oB;AAkCN,eAAeA,oBAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport FriendsList from '../../components/Friends/FriendsList';\r\nimport { debounce } from 'lodash';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { requestFriendsList } from '../../modules/friends';\r\n\r\nconst FriendsListContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { friendsList } = useSelector(({ friends: { friendsList } }) => ({\r\n    friendsList,\r\n  }));\r\n  const [pagination, setPagination] = useState(0);\r\n  const MAX_PAGINATION = friendsList ? Math.ceil(friendsList.length / 10) : 0;\r\n  const scrollHandler = debounce((e) => {\r\n    if (e.deltaY === 100 && pagination + 1 < MAX_PAGINATION) {\r\n      setPagination(pagination + 1);\r\n    } else if (e.deltaY === -100 && pagination > 0) {\r\n      setPagination(pagination - 1);\r\n    }\r\n  }, 300);\r\n  useEffect(() => {\r\n    const { uid } = JSON.parse(localStorage.user);\r\n    dispatch(requestFriendsList({ uid }));\r\n  }, [dispatch]);\r\n  useEffect(() => {\r\n    window.addEventListener('wheel', scrollHandler);\r\n    return () => {\r\n      window.removeEventListener('wheel', scrollHandler);\r\n    };\r\n  }, [pagination, scrollHandler]);\r\n\r\n  return (\r\n    <FriendsList\r\n      friendsList={friendsList.slice(pagination * 10, (pagination + 1) * 10)}\r\n      pagination={pagination}\r\n      total={MAX_PAGINATION}\r\n    />\r\n  );\r\n};\r\n\r\nexport default FriendsListContainer;\r\n"]},"metadata":{},"sourceType":"module"}